<!-- Friends Modal -->
<div id="friendsModal" class="modal hidden" style="z-index:60;">
  <div class="modal-content" style="
      width: 760px;
      max-width: 95%;
      background: radial-gradient(circle at top left, rgba(34,211,238,0.1), transparent 55%),
                  rgba(15,23,42,0.98);
      border-radius: 22px;
      padding: 22px 24px;
      color: #e2e8f0;
      box-shadow:
        0 24px 60px rgba(15,23,42,0.65),
        0 0 0 1px rgba(148,163,184,0.18);
      border: 1px solid rgba(45,212,191,0.35);
      position: relative;
  ">
    
    <!-- Header -->
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:18px;">
      <div style="display:flex; align-items:center; gap:12px;">
        <h2 style="font-size:1.3rem; font-weight:600; color:#e5e7eb;">Friends</h2>
        <span style="
          background:#0f766e;
          padding:2px 10px;
          border-radius:9999px;
          font-size:0.8rem;
          color:#ecfeff;
        " id="friend-count">0</span>
      </div>

      <button id="close-friends-modal" style="
          background:transparent;
          border:none;
          color:#94a3b8;
          font-size:20px;
          cursor:pointer;
      ">âœ•</button>
    </div>

    <!-- Two Columns -->
    <div style="display:flex; gap:24px;">

      <!-- LEFT COLUMN: SEARCH USERS -->
      <div style="flex:1;">

        <h3 style="font-size:1rem; margin-bottom:10px; color:#38bdf8;">Find Friends</h3>

        <input 
          id="friend-search-input"
          type="text"
          placeholder="Search by username..."
          style="
            width:100%;
            padding:10px 14px;
            border-radius:12px;
            background:rgba(15,23,42,0.9);
            border:1px solid rgba(148,163,184,0.4);
            color:#e5e7eb;
            margin-bottom:12px;
          "
        />

        <div id="friend-search-results" style="
            max-height:300px;
            overflow-y:auto;
            display:flex;
            flex-direction:column;
            gap:10px;
            padding-right:4px;
        ">
          <!-- search results injected here -->
        </div>

      </div>

      <!-- RIGHT COLUMN: REQUESTS + FRIEND LIST -->
      <div style="flex:1;">

        <!-- Incoming Requests -->
        <h3 style="font-size:1rem; margin-bottom:10px; color:#38bdf8;">Incoming Requests</h3>
        <div id="incoming-requests" style="
            display:flex;
            flex-direction:column;
            gap:10px;
            margin-bottom:20px;
            max-height:150px;
            overflow-y:auto;
        ">
          <!-- incoming requests here -->
        </div>

        <!-- Friends List -->
        <h3 style="font-size:1rem; margin-bottom:10px; color:#38bdf8;">Your Friends</h3>
        <div id="friends-list" style="
            display:flex;
            flex-direction:column;
            gap:10px;
            max-height:220px;
            overflow-y:auto;
        ">
          <!-- friends list here -->
        </div>

      </div>

    </div>
  </div>
</div>
