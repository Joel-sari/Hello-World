<div id="editProfileModal" class="modal hidden">
  <div class="modal-content" style="width:340px;">
      <style>
          #editProfileForm label {
            display: block;
            margin-top: 12px;
            font-weight: 600;
            color: #e2e8f0;
          }
          #editProfileForm input[type="text"],
          #editProfileForm textarea {
            width: 100%;
            margin-top: 4px;
            padding: 1.5px;
            border-radius: 6px;
            border: 1px solid #ccc;
          }
          #editProfileForm input[readonly] {
            background: rgba(15, 23, 42, 0.6);
            color: #94a3b8;
            cursor: not-allowed;
          }
        </style>

    <h3>Edit Profile</h3>

    <form id="editProfileForm" enctype="multipart/form-data">
      {% csrf_token %}

      <label>Username</label>
      <!-- Username is intentionally read-only to prevent changes -->
      <input
        type="text"
        name="username"
        value="{{ user.username }}"
        readonly="readonly"
        aria-readonly="true"
        title="Username cannot be changed"
      />
      <small style="font-size: 0.75rem; color: #94a3b8;">
        Usernames canâ€™t be edited.
      </small>

      <label>Bio</label>
      <textarea name="bio" rows="3">{{ user.profile.bio }}</textarea>

      <label>Avatar</label>
      <input type="file" name="avatar" accept="image/*" />

      <div class="modal-buttons">
        <button type="button" id="cancelEditProfile" class="btn-secondary">Cancel</button>
        <button type="submit" id="saveEditProfile" class="btn-primary">Save</button>
      </div>
    </form>
  </div>
</div>