<div id="pinDetailsModal" class="modal hidden">
  <div class="modal-content" style="width: 350px">

    <!-- Top Bar: User (left) + Location (right) -->
    <div 
      style="
        display:flex; 
        justify-content:space-between; 
        align-items:center; 
        margin-bottom:14px; 
        font-family:Inter, system-ui;
      "
    >
      <!-- Username -->
      <div style="display:flex; flex-direction:column;">
        <span id="detailUser"
              style="font-weight:600; font-size:15px; color:#0f766e;">
        </span>
      </div>

      <!-- Location (City, Country) + pin icon -->
      <div style="display:flex; align-items:center; gap:6px;">
        <img src="/static/home/textures/pin_sprite.png"
             style="width:14px; height:14px; opacity:0.85;">
        <span id="detailLocation"
              style="font-size:13px; color:#0f766e; opacity:0.85;">
        </span>
      </div>
    </div>
    
     <!-- Image + thumbnails gallery -->
    <div id="detailGallery" style="margin-bottom:14px;">
      <!-- Main photo for this pin (first/selected image) -->
      <img id="detailImage"
          style="
            width:100%;
            border-radius:14px;
            box-shadow:0 4px 12px rgba(0,0,0,0.25);
            display:block;
          " />

      <!-- Thumbnails for additional photos (filled by JS when photos.length > 0-->
      <div id="detailThumbnails"
          style="
            display:flex;
            gap:8px;
            margin-top:10px;
            max-width:100%;
            overflow-x:auto;
            padding-bottom:2px;
          ">
        {# JS will inject <img> thumbnails here, one per extra photo #}
      </div>
    </div>

  

  <!-- =========================
      REACTIONS (Facebook-style)
      - If total = 0 => show pill
      - If total > 0 => show compact summary
  ========================= -->

  <div id="reactionSection">

    <!-- Pill trigger (default look when no reactions yet) -->
    <div id="reactionTrigger" class="reaction-pill">
      <span id="userReaction" class="reaction-pill__icon">ğŸ‘</span>
      <span id="reactionSummary" class="reaction-pill__text">React</span>
    </div>

    <!-- Compact summary (shows AFTER at least 1 reaction) -->
    <div id="reactionCompact" class="reaction-compact hidden">
      <div id="reactionCompactIcons" class="reaction-compact__icons"></div>
      <span id="reactionTotalCount" class="reaction-compact__total"></span>
    </div>

  </div>

  <!-- POPUP REACTION BAR -->
  <div id="reactionPopup">
    <span class="popup-react" data-emoji="like">ğŸ‘</span>
    <span class="popup-react" data-emoji="love">â¤ï¸</span>
    <span class="popup-react" data-emoji="laugh">ğŸ˜‚</span>
    <span class="popup-react" data-emoji="wow">ğŸ˜®</span>
  </div>
    <!-- Caption Label + Text (inline) -->
    <div style="display:flex; align-items:baseline; gap:6px; margin-bottom:18px; font-family:Inter, system-ui;">
      <span style="font-size:13px; color:#0f766e; font-weight:600;">
        Caption:
      </span>
      <span id="detailCaption"
            style="font-size:14px; line-height:1.45; color:#0f766e;">
      </span>
    </div>

    

    <!-- Action buttons -->
    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:16px;">
      <button id="closePinDetails"
              style="padding:8px 16px; border-radius:6px; border:1px solid #0f766e;
                     background:white; color:#0f766e; font-size:13px; cursor:pointer;">
        Close
      </button>

      <div id="ownerActions" style="display:none;">
        <button id="editPinButton"
                class="edit-pin-btn"
                data-edit-pin-id=""
                style="padding:8px 16px; border:none; border-radius:6px;
                       background:#0f766e; color:white; cursor:pointer;
                       font-size:13px;">
          Edit Pin
        </button>
      </div>
    </div>
  </div>
</div>